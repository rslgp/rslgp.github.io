{"version":3,"sources":["components/twemoji.js","components/header.js","components/tableCount.js","components/googlesheets/endereco.js","components/variaveisAmbiente.js","components/googlesheets/mylocation.js","components/googlesheets/sugestao.js","images/bean.svg","images/hub.svg","images/green.svg","images/red.svg","images/currentLocation.svg","components/map.js","images/qr.svg","components/googlesheets/cleanold.js","App.js","index.js"],"names":["Twemoji","emoji","dangerouslySetInnerHTML","__html","twemoji","parse","folder","ext","memo","Header","Component","this","props","rowCountProp","id","AppBar","position","Toolbar","Typography","variant","className","GoogleSpreadsheet","require","provider","OpenStreetMapProvider","doc","process","NameForm","state","value","alimento","isLoading","telefone","diaSemana","horario","handleChange","bind","handleSubmit","event","target","length","setState","self","a","useServiceAccountAuth","client_email","private_key","loadInfo","sheet","sheetsByIndex","numero","replace","alert","preventDefault","dadosJSON","Date","toISOString","row","Dados","JSON","stringify","search","query","providerResult","console","log","latlon","y","x","Coordinates","Error","addRow","window","location","reload","CircularProgress","onSubmit","type","placeholder","onChange","nextProps","envVariables","handleChangeNumero","loadCells","getCell","saveUpdatedCells","mapArea","teto","chao","paredeEsquerda","paredeDireita","regiao","result","onClick","Sugestoes","Sugestao","DateISO","TimeAgo","addDefaultLocale","pt","timeAgo","myIcon","L","Icon","iconUrl","coffeeBean","iconSize","Point","hubIcon","hub","greenIcon","green","redIcon","red","CurrentLocation","CurrentLocationSVG","interactive","markerclusterOptionsPrecisando","cluster","childCount","getChildCount","c","DivIcon","html","markerclusterOptionsAnjos","markerclusterOptionsEntrega","CoffeeMap","dataMaps","center","filtro","screensizeZoom","innerWidth","MapContainer","style","height","width","zoom","maxZoom","attributionControl","LayersControl","BaseLayer","checked","name","TileLayer","url","attribution","AttributionControl","prefix","Marker","icon","eventHandlers","click","e","renderSwitch","mapCoords","Telefone","googleDirection","dateMarked","format","now","getTime","precisandoMsg","contato","AlimentoEntregue","Roaster","Popup","href","rel","src","removerPonto","entregarAlimento","spiderfyDistanceMultiplier","showCoverageOnHover","maxClusterRadius","iconCreateFunction","dataMapsProp","filter","map","dataItem","k","City","CurrentIcon","URL","DiaSemana","Horario","setupVariables","configPopup","param","renderDoadoresAzul","renderDoadoresVerde","renderNecessitados","renderDoadoresVermelho","aes","AesEncryption","ReactGA","initialize","pageview","pathname","setSecretKey","App","dataHeader","label","rowCount","telefoneEncryptado","dropDownMenuSemana","React","createRef","dropDownMenuHorario","dropDownMenuFiltro","setTipoAlimento","handleChangeTelefone","setDiaSemana","setHorario","setFiltro","coords","categoriaPonto","motivo","prompt","Motivo","Ponto","CategoriaPonto","getRows","rows","rowEncontrada","dadosNovos","save","current","selectedOptions","telefoneValue","encrypt","navigator","geolocation","getCurrentPosition","latitude","longitude","forEach","dados","decrypt","fixarPonto","endereco","includes","Grid","container","spacing","item","xs","sm","Paper","tileMapOption","ref","title","alt","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6e8c4298.chunk.js","sourcesContent":["import React, { memo } from 'react'\nimport twemoji from 'twemoji'\n\n// Using the official https://github.com/twitter/twemoji from Twitter\n// With an excellent example from https://gist.github.com/chibicode/fe195d792270910226c928b69a468206\n\nconst Twemoji = ({ emoji }) => (\n    <span\n        dangerouslySetInnerHTML={{\n            __html: twemoji.parse(emoji, {\n                folder: 'svg',\n                ext: '.svg'\n            })\n        }}\n    />\n)\n\nexport default memo(Twemoji)","import React, { Component } from 'react';\nimport Twemoji from './twemoji';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n// import Button from '@material-ui/core/Button';\n// import IconButton from '@material-ui/core/IconButton';\n// import github_mark from '../images/github_mark.png';\nimport TableCount from './tableCount';\n\nclass Header extends Component {\n\n    render() {\n\n        const { rowCountProp } = this.props;\n\n        return (\n            <div id=\"header\">\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <Typography variant=\"h6\" id=\"logo\">\n                            <Twemoji emoji=\"☕\" /> MAPA da FOME <span className=\"beta\">(beta) site:</span> www.mapafome.ml \n                        </Typography>\n                        {/* <TableCount rowCountProp={rowCountProp} /> */}\n                        {/* <a href=\"https://docs.google.com/spreadsheets/d/1u7jiqY1qM0jYWugn1dFiW3plQrvWysJqm8xXhO35zuU/edit?usp=sharing\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <Button\n                                variant=\"contained\"\n                                size=\"small\">\n                                Add<span id=\"RoasterButtonMobile\">&nbsp;Roaster</span>\n                            </Button>\n                        </a>\n                        <a href=\"https://github.com/hdehal/coffee-maps\" target=\"_blank\" rel=\"noopener noreferrer\">\n                            <IconButton\n                                className=\"GitHub\"\n                                variant=\"outlined\"\n                                size=\"small\">\n                                <img className=\"GitHub\" src={github_mark} alt=\"Hosted on GitHub\" />\n                            </IconButton>\n                        </a> */}\n                    </Toolbar>\n                </AppBar>\n            </div>\n        );\n    }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nclass TableCount extends Component {\n    render() {\n        return (\n            <Typography className=\"TableCount\">\n                TOTAL: {this.props.rowCountProp}\n            </Typography>\n        );\n    }\n}\n\nexport default TableCount;","import React, { Component } from 'react';\r\n\r\nimport { \r\n  OpenStreetMapProvider,\r\n  // BingProvider \r\n} from 'leaflet-geosearch';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\r\n\r\nconst provider = new OpenStreetMapProvider();\r\n\r\n// = new BingProvider({\r\n//   params: {\r\n//     key: process.env.REACT_APP_BING_MAPS_API_KEY\r\n//   },\r\n// });\r\n//\r\n\r\n// Google Sheets Document ID -- PROD\r\nconst doc = new GoogleSpreadsheet(process.env.REACT_APP_GOOGLESHEETID);\r\n\r\nclass NameForm extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        value: '', \r\n        alimento: props.alimento, \r\n        isLoading:false,\r\n        telefone:props.telefone,\r\n        diaSemana:props.diaSemana,\r\n        horario:props.horario,\r\n      };\r\n  \r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    //ATUALIZAR PROPS VINDAS DO PAI\r\n    static getDerivedStateFromProps(nextProps, state) {\r\n      if(state){\r\n        if (nextProps.alimento !== state.alimento){ \r\n          state.alimento=nextProps.alimento;\r\n        }\r\n        if (nextProps.telefone !== state.telefone){ \r\n          state.telefone=nextProps.telefone;\r\n        }\r\n        if (nextProps.diaSemana !== state.diaSemana){ \r\n          state.diaSemana=nextProps.diaSemana;\r\n        }\r\n        if (nextProps.horario !== state.horario){ \r\n          state.horario=nextProps.horario;\r\n        }\r\n      }\r\n      return state;\r\n    }\r\n  \r\n    handleChange(event) {\r\n      if(event.target.value.length > 100) return; \r\n      this.setState({value: event.target.value});\r\n    }\r\n  \r\n    handleSubmit(event) {\r\n      //alert('Um endereço foi enviado: ' + this.state.value);\r\n      if(this.state.value === '') {event.preventDefault();return;}\r\n      \r\n      this.setState({isLoading: true});\r\n\r\n      (async function main(self) {\r\n        await doc.useServiceAccountAuth({\r\n            client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\r\n            private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\r\n        });\r\n\r\n        await doc.loadInfo(); // Loads document properties and worksheets\r\n\r\n        const sheet = doc.sheetsByIndex[0];\r\n        //row = { Name: \"new name\", Value: \"new value\" };\r\n        \r\n        // Total row count\r\n        let numero = self.state.value.replace(/[^0-9]/g,'');\r\n        if(numero !== ''){\r\n          numero = \", nº\"+numero;\r\n        }else{\r\n          alert(\"faltou colocar o número\");\r\n          \r\n          event.preventDefault();\r\n          self.setState({isLoading: false});\r\n          return;\r\n        }\r\n        // const row = { \r\n        //   Roaster:  self.state.alimento, \r\n        //   URL:numero, City: self.state.value,\r\n        //   DateISO: new Date().toISOString(), \r\n        //   Telefone: self.state.telefone, \r\n        //   DiaSemana: self.state.diaSemana, \r\n        //   Horario: self.state.horario,\r\n        //   AlimentoEntregue:0,\r\n        // };\r\n\r\n        let dadosJSON = { \r\n          \"Roaster\":  self.state.alimento, \r\n          \"URL\":numero, \r\n          \"City\": self.state.value,\r\n          \"DateISO\": new Date().toISOString(), \r\n          \"Telefone\": self.state.telefone, \r\n          \"DiaSemana\": self.state.diaSemana, \r\n          \"Horario\": self.state.horario,\r\n          \"AlimentoEntregue\":0,\r\n        };\r\n        const row = {\r\n          Dados: JSON.stringify(\r\n            dadosJSON\r\n          )\r\n        };\r\n\r\n        \r\n        try{\r\n          let providerResult = await provider.search({ query: self.state.value.replace('-',\",\") + ', Brazil' });\r\n  \r\n          if(providerResult.length !== 0 ){\r\n              // throw new Error(\"endereco-nao-encontrado\");\r\n  \r\n              console.log(providerResult);\r\n              let latlon = [providerResult[0].y, providerResult[0].x];\r\n              dadosJSON.Coordinates = JSON.stringify(latlon);\r\n              row.Dados = JSON.stringify(dadosJSON); // Convert obj to string\r\n              //needsUpdates[index].mapCoords = latlon;\r\n          }else{\r\n             throw new Error(\"endereco-nao-encontrado\");\r\n          }\r\n        }catch(e){\r\n            console.log(\"ERRO\");\r\n            console.log(e);\r\n            alert(\"Houve um problema ao cadastrar endereço, porfavor use o botão Marcar Localização Atual\");\r\n        }\r\n        await sheet.addRow(row);\r\n       \r\n        self.setState({isLoading: false});\r\n        window.location.reload();\r\n      })(this);\r\n      event.preventDefault();\r\n    }\r\n\r\n    \r\n  \r\n    render() {\r\n      return (\r\n        this.state.isLoading ?\r\n        <div><CircularProgress /></div>\r\n        :\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            <input className=\"TextField\" type=\"text\" placeholder='Insira rua,nº,bairro,cidade,estado' value={this.state.value} onChange={this.handleChange} />\r\n          </label>\r\n          <input className=\"SubmitButton\" type=\"submit\" value=\"Enviar Endereço\" />\r\n        </form>\r\n      );\r\n    }\r\n  }\r\nexport default NameForm; ","const envVariables = {\r\n    \"mapArea\": {\r\n        \"teto\":2.20,\r\n        \"chao\":-14.09,\r\n        \"paredeEsquerda\":-52.42,\r\n        \"paredeDireita\":-34.32\r\n    }\r\n}\r\n\r\nexport default envVariables;","import React, { Component } from 'react';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport envVariables from '../variaveisAmbiente';\r\n\r\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\r\n\r\n\r\n// Google Sheets Document ID -- PROD\r\nconst doc = new GoogleSpreadsheet(process.env.REACT_APP_GOOGLESHEETID);\r\n\r\nclass NameForm extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        value: '', \r\n        location: props.location, \r\n        alimento: props.alimento, \r\n        isLoading:props.isLoading,\r\n        telefone:props.telefone,\r\n        diaSemana:props.diaSemana,\r\n        numero:'',\r\n      };\r\n  \r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n      this.handleChangeNumero = this.handleChangeNumero.bind(this);\r\n\r\n    }\r\n\r\n  componentDidMount() {\r\n      \r\n    //salvar acesso  \r\n      \r\n    (async function main(self) {\r\n      try{\r\n        await doc.useServiceAccountAuth({\r\n          client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\r\n          private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\r\n        });\r\n    \r\n        await doc.loadInfo(); // Loads document properties and worksheets\r\n    \r\n        const sheet = doc.sheetsByIndex[1];\r\n        \r\n        await sheet.loadCells('A2');\r\n        const a1 = sheet.getCell(1, 0);\r\n        a1.value+=1;\r\n        await sheet.saveUpdatedCells();\r\n      }catch(e){\r\n        \r\n      }\r\n      \r\n    })(this);\r\n\r\n  }\r\n\r\n    //ATUALIZAR PROPS VINDAS DO PAI\r\n    static getDerivedStateFromProps(nextProps, state) {\r\n      if(state){\r\n\r\n        if (nextProps.alimento !== state.alimento){ \r\n          state.alimento=nextProps.alimento;\r\n        }\r\n        if (nextProps.telefone !== state.telefone){ \r\n          state.telefone=nextProps.telefone;\r\n        }\r\n        if (nextProps.diaSemana !== state.diaSemana){ \r\n          state.diaSemana=nextProps.diaSemana;\r\n        }\r\n        if (nextProps.horario !== state.horario){ \r\n          state.horario=nextProps.horario;\r\n        }\r\n      }\r\n      return state;\r\n    }\r\n  \r\n    handleChange(event) {\r\n      this.setState({value: event.target.value});\r\n    }\r\n    \r\n    handleChangeNumero(event) {\r\n      if(event.target.value.length > 6) return;\r\n      let numero = event.target.value.replace(/[^0-9]/g,'');\r\n      this.setState({numero: numero});\r\n    }\r\n  \r\n    handleSubmit(event) { \r\n        //navigator.geolocation.getCurrentPosition(function(position) {\r\n        if(this.state.location[0]===-8.0671132 && this.state.location[1]===-34.8766719){\r\n          alert(\"Localização do celular está desativada, ative, recarregue a página e tente novamente com a localização ativa, se mesmo assim não conseguir insira o endereço completo e clique enviar endereço\");\r\n          event.preventDefault();\r\n          return;\r\n        }\r\n        this.setState({isLoading: true});\r\n            (async function main(self) {\r\n                await doc.useServiceAccountAuth({\r\n                    client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\r\n                    private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\r\n                });\r\n        \r\n                await doc.loadInfo(); // Loads document properties and worksheets\r\n                \r\n                let regiao;\r\n                if(\r\n                  //cima baixo\r\n                  self.state.location[0]< envVariables.mapArea.teto && self.state.location[0] > envVariables.mapArea.chao\r\n                  &&\r\n                  //esquerda direita\r\n                  self.state.location[1]>envVariables.mapArea.paredeEsquerda && self.state.location[1] < envVariables.mapArea.paredeDireita        \r\n                  ){\r\n                    //nordeste\r\n                    regiao=0;\r\n                  }\r\n                  // else\r\n                  // if(\r\n                  //   //cima baixo\r\n                  //   self.state.location[0]<-14.18 && self.state.location[0] > -32.66\r\n                  //   &&\r\n                  //   //esquerda direita\r\n                  //   self.state.location[1]>-55.55 && self.state.location[1] < -38.06        \r\n                  //   ){\r\n                  //     //sudeste\r\n                  //     regiao=4;\r\n                  //   }\r\n                    else{\r\n                      alert(\"Região não suportada\");\r\n                      return;\r\n                    }\r\n                const sheet = doc.sheetsByIndex[regiao];\r\n                // const rows = await sheet.getRows();\r\n                // Total row count\r\n\r\n                if(self.state.numero !== ''){\r\n                  self.state.numero = \", nº\"+self.state.numero;\r\n                }\r\n                \r\n                // const row = { \r\n                //   Roaster: self.state.alimento, \r\n                //   URL:self.state.numero, \r\n                //   City: \"\", \r\n                //   Coordinates:JSON.stringify([self.props.location[0], self.props.location[1]]), \r\n                //   DateISO: new Date().toISOString(), \r\n                //   Telefone: self.props.telefone, \r\n                //   DiaSemana:self.props.diaSemana,\r\n                //   Horario:self.props.horario,\r\n                //   AlimentoEntregue:0,\r\n                // };\r\n\r\n                \r\n            const row = {\r\n              Dados: JSON.stringify(\r\n                { \r\n                  \"Roaster\": self.state.alimento, \r\n                  \"URL\":self.state.numero, \r\n                  \"City\": \"\", \r\n                  \"Coordinates\":JSON.stringify([self.props.location[0], self.props.location[1]]), \r\n                  \"DateISO\": new Date().toISOString(), \r\n                  \"Telefone\": self.props.telefone, \r\n                  \"DiaSemana\":self.props.diaSemana,\r\n                  \"Horario\":self.props.horario,\r\n                  \"AlimentoEntregue\":0\r\n                }\r\n\r\n              )\r\n            };\r\n                \r\n                const result = await sheet.addRow(row);\r\n                console.log(result);\r\n                window.location.reload();\r\n            })(this);\r\n        //});\r\n      event.preventDefault();\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n          this.state.isLoading ?\r\n          <div><CircularProgress /></div>\r\n          :\r\n          <div>\r\n            <input className='nLocal' type=\"text\" placeholder='nº' value={this.state.numero} onChange={this.handleChangeNumero} />\r\n            <button className=\"SubmitButton\" onClick={this.handleSubmit}>\r\n              marcar Localização Atual\r\n            </button>\r\n          </div>\r\n        \r\n      );\r\n    }\r\n  }\r\nexport default NameForm; ","import React, { Component } from 'react';\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\r\n\r\n// Google Sheets Document ID -- PROD\r\nconst doc = new GoogleSpreadsheet(process.env.REACT_APP_GOOGLESHEETID);\r\n\r\nclass Sugestoes extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        value: '',\r\n        isLoading:false\r\n      };\r\n  \r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n  \r\n    handleChange(event) {\r\n      if(event.target.value.length > 1000) return;\r\n      this.setState({value: event.target.value});\r\n    }\r\n  \r\n    handleSubmit(event) {\r\n      //alert('Um endereço foi enviado: ' + this.state.value);\r\n      if(this.state.value === '') {event.preventDefault();return;}\r\n      \r\n      this.setState({isLoading: true});\r\n      \r\n      (async function main(self) {\r\n        try{\r\n          await doc.useServiceAccountAuth({\r\n              client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\r\n              private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\r\n          });\r\n\r\n          await doc.loadInfo(); // Loads document properties and worksheets\r\n\r\n          const sheet = doc.sheetsByIndex[2];\r\n          //row = { Name: \"new name\", Value: \"new value\" };\r\n          \r\n          const row = { Sugestao: self.state.value, DateISO: new Date().toISOString()};\r\n          \r\n          await sheet.addRow(row);\r\n        \r\n          self.setState({isLoading: false});\r\n          alert(\"sugestão enviada com sucesso\");\r\n        }catch(e){\r\n          alert(\"Erro, tente novamente\");\r\n        }\r\n        \r\n      })(this);\r\n      event.preventDefault();\r\n    }\r\n\r\n    \r\n  \r\n    render() {\r\n      return (\r\n        this.state.isLoading ?\r\n        <div><CircularProgress /></div>\r\n        :\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            <textarea className=\"TextField\" type=\"text\" placeholder='Insira sua sugestão, depoimento e contato em caso de dúvida' value={this.state.value} onChange={this.handleChange} />\r\n          </label>\r\n          <input className=\"SubmitButton\" type=\"submit\" value=\"Enviar sugestão\" />\r\n        </form>\r\n      );\r\n    }\r\n  }\r\nexport default Sugestoes; ","export default __webpack_public_path__ + \"static/media/bean.8d52f968.svg\";","export default __webpack_public_path__ + \"static/media/hub.4f920e1b.svg\";","export default __webpack_public_path__ + \"static/media/green.00533c2a.svg\";","export default __webpack_public_path__ + \"static/media/red.651e6e29.svg\";","export default __webpack_public_path__ + \"static/media/currentLocation.bd009424.svg\";","import React, { Component } from 'react';\nimport { MapContainer, Marker, TileLayer, Tooltip, AttributionControl, Popup, LayersControl } from \"react-leaflet\";\nimport L from 'leaflet';\nimport \"leaflet/dist/leaflet.css\";\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport \"react-leaflet-markercluster/dist/styles.min.css\";\nimport coffeeBean from '../images/bean.svg';\nimport hub from '../images/hub.svg';\nimport green from '../images/green.svg';\nimport red from '../images/red.svg';\nimport CurrentLocationSVG from '../images/currentLocation.svg';\nimport TimeAgo from 'javascript-time-ago';\n\nimport pt from 'javascript-time-ago/locale/pt.json';\nTimeAgo.addDefaultLocale(pt);\n\nconst timeAgo = new TimeAgo();\n\n// Leaflet custom marker\nconst myIcon = new L.Icon({\n    // Coffee bean attribution -- Thanks! https://commons.wikimedia.org/wiki/File:Coffee_bean_symbol.svg\n    iconUrl: coffeeBean,\n    iconSize: new L.Point(20, 20),\n    className: 'leaflet-bean-icon',\n});\n\n\n// Leaflet custom marker\nconst hubIcon = new L.Icon({\n    iconUrl: hub,\n    iconSize: new L.Point(30, 30),\n    className: 'leaflet-bean-icon',\n});\n\n// Leaflet custom marker\nconst greenIcon = new L.Icon({\n    iconUrl: green,\n    iconSize: new L.Point(35, 35),\n    className: 'leaflet-bean-icon',\n});\nconst redIcon = new L.Icon({\n    iconUrl: red,\n    iconSize: new L.Point(35, 35),\n    className: 'leaflet-bean-icon',\n});\n\nconst CurrentLocation = new L.Icon({\n    iconUrl: CurrentLocationSVG,\n    iconSize: new L.Point(150, 150),\n    className: 'leaflet-bean-icon',\n    interactive: false\n});\n\nconst markerclusterOptionsPrecisando = function (cluster) {\n        var childCount = cluster.getChildCount();\n        var c = ' marker-cluster-';\n        if (childCount < 10) {\n          c += 'small';\n        } \n        else if (childCount < 100) {\n          c += 'medium';\n        } \n        else {\n          c += 'large';\n        }\n       \n        return new L.DivIcon({ html: '<div><span>' + childCount + '</span></div>', \n         className: 'marker-cluster' + c + '-precisandoCluster', iconSize: new L.Point(40, 40) });\n        };\n\n  const markerclusterOptionsAnjos = (cluster) => {\n    var childCount = cluster.getChildCount();\n    var c = ' marker-cluster-';\n    if (childCount < 10) {\n      c += 'small';\n    } \n    else if (childCount < 100) {\n      c += 'medium';\n    } \n    else {\n      c += 'large';\n    }\n   \n    return new L.DivIcon({ html: '<div><span>' + childCount + '</span></div>', \n     className: 'marker-cluster' + c +'-anjosCluster', iconSize: new L.Point(40, 40) });\n    };\n\n    const markerclusterOptionsEntrega = (cluster) => {       \n        return new L.DivIcon({ html: '<div><span>' + cluster.getChildCount() + '</span></div>', \n         className: 'redHub marker-cluster', iconSize: new L.Point(40, 40) });\n    };\n\n\nclass CoffeeMap extends Component {\n\n    // Initial state\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            dataMaps: [],\n            center: props.location,\n            filtro: props.filtro,\n        }\n    }\n\n     //ATUALIZAR PROPS VINDAS DO PAI\n     static getDerivedStateFromProps(nextProps, state) {\n        if(state){\n          if (nextProps.filtro !== state.filtro){ \n            state.filtro=nextProps.filtro;\n          }\n        }\n        return state;\n      }\n\n    render() {\n\n        // Render map default zoom based on mobile breakpoint\n        const isMobile = window.innerWidth < 480;\n        const screensizeZoom = isMobile ? 7.25 : 8.5*1.2;\n\n        return (\n            <div>\n                <MapContainer\n                    style={{ height: \"89vh\", width: \"100%\" }}\n                    zoom={screensizeZoom}\n                    maxZoom={18}\n                    center={this.state.center}\n                    attributionControl={false}>\n\n\n{/* https://github.com/dhis2-club-tanzania/function-maintenance/blob/0dadaa96955156b6ddefc0fcf9dd54e45ffb9458/src/app/shared/modules/ngx-dhis2-visualization/modules/map/constants/tile-layer.constant.ts */}\n{/* https://www.arcgis.com/apps/mapviewer/index.html */}\n                    {/* <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                        attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                    /> */}\n                     {/* <TileLayer url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n                        attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                    /> */}\n                    {/* <TileLayer url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\"\n                        attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                    /> */}\n\n                    \n                     {/* {this.state.tileMapOption ? \n                     <TileLayer url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\n                     attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                 />\n                    :\n                    <TileLayer url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n                        attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                    />\n                } */}\n\n                     {/* <TileLayer url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}\"\n                        attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                    /> */}\n                    {/* <TileLayer url=\"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png\"\n                        attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                    />  */}\n                    {/* <TileLayer url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\n                        attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OpenStreetMap</a>\"\n                    />  */}\n                    <LayersControl position=\"bottomleft\">\n                    <LayersControl.BaseLayer checked name=\"Waze\">\n                    <TileLayer url=\"https://worldtiles1.waze.com/tiles/{z}/{x}/{y}.png\"\n                        attribution=\" &copy; <a href='www.waze.com/pt-BR/live-map' target='_blank' rel='noreferrer'>Waze</a>\"\n                    />\n                    </LayersControl.BaseLayer>\n                    <LayersControl.BaseLayer  name=\"Mapa\">\n                    <TileLayer url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\n                     attribution=\" &copy; <a href='http://openstreetmap.org' target='_blank' rel='noreferrer'>OSM</a>\"\n                    />\n                    </LayersControl.BaseLayer>\n\n                    <LayersControl.BaseLayer name=\"Satelite\">\n                    <TileLayer url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n                        attribution=\" &copy; <a href='https://www.arcgis.com/apps/mapviewer/index.html' target='_blank' rel='noreferrer'>Esri</a>\"\n                    />\n                    </LayersControl.BaseLayer>\n\n                    \n                    </LayersControl>\n\n\n\n                    <AttributionControl\n                        position=\"bottomleft\"\n                        prefix={false}\n                    />\n                    \n                    <Marker\n                            icon= {CurrentLocation} \n                            key={\"currentPosition\"}\n                            center={this.state.center}\n                            position={this.state.center}\n\n                            eventHandlers={{\n                                click: (e) => { \n                                    e.preventDefault();\n                                }\n                            }}\n\n                            interactive={false}\n                        >\n                            \n                    {/* <Popup\n                        direction=\"auto\"\n                        offset={[2, 0]}\n                        opacity={1}>\n                        <span>você está aqui</span>\n                    </Popup> */}\n                        </Marker>\n\n                        {/* {(() => {\n                            switch(this.state.filtro) {\n                                case \"Todos\":\n                                    return ([\n                                        this.renderDoadoresAzul(),\n                                        this.renderDoadoresVerde(),\n                                        this.renderNecessitados(),\n                                        this.renderDoadoresVermelho()]\n                                    )\n                                    break;\n                                case \"Necessitados\":\n                                    return ([\n                                        this.renderNecessitados()]\n                                    )\n                                    break;\n                                case \"Doadores\":\n                                    return ([\n                                        this.renderDoadoresAzul(),\n                                        this.renderDoadoresVerde(),\n                                        this.renderDoadoresVermelho()]\n                                    )\n                                    break;\n                                case \"Refeição Pronta\":\n                                    return ([\n                                        this.renderDoadoresVerde(),\n                                        this.renderDoadoresVermelho()]\n                                    )\n                                    break;\n                            }\n                        })()} */}\n                        {this.renderSwitch(this.state.filtro)}\n\n                    \n                </MapContainer>\n            </div>\n        );\n    }\n\n    \n    setupVariables(mapCoords,DateISO,Telefone){\n        let googleDirection = `https://www.google.com/maps/search/${[mapCoords[0]+','+mapCoords[1]]}`;\n                            \n        let dateMarked = timeAgo.format(Date.now() - (Date.now() - new Date(DateISO).getTime()) );\n         //if(DateISO) dateMarked\n        if(Telefone){\n            switch(Telefone.length){\n                case 8:\n                    Telefone=\"contato:\"+Telefone.replace(/(\\d{4})(\\d{4})/g, \"$1-$2\");\n                    break;\n                case 9:\n                    Telefone=\"contato:\"+Telefone.replace(/(\\d{5})(\\d{4})/g, \"$1-$2\");\n                    break;\n                default:\n                    Telefone=\"contato:\"+Telefone.replace(/(\\d{2})(\\d{5})(\\d{4})/g, \"($1) $2-$3\");\n                    break;\n            }\n        }\n        return {googleDirection, dateMarked, Telefone};\n    }\n\n    configPopup(googleDirection, precisandoMsg, dateMarked, contato, \n        AlimentoEntregue, mapCoords, Roaster){\n        return <Popup>\n            <a href={googleDirection} target='_blank' rel=\"noreferrer\">Ir para o destino \n            <img className=\"directionIcon\" src=\"https://maps.gstatic.com/tactile/omnibox/directions-2x-20150909.png\"></img></a>\n            <br/>\n            {precisandoMsg}\n            <br/>\n            {dateMarked} {contato} \n            <br/>{\"(Qtde entregue:\"+AlimentoEntregue+\")\"}\n            <br/>\n            <button onClick={() => this.props.removerPonto([mapCoords[0], mapCoords[1]], Roaster)}>apagar</button>\n            <span>    </span>\n            <button className='buttonsSidebySide floatRight' onClick={() => this.props.entregarAlimento([mapCoords[0], mapCoords[1]])}>entreguei</button>\n                                    \n        </Popup>\n    }\n\n    renderDoadoresAzul(){\n        return <MarkerClusterGroup\n                    // grupo de onde pode ajudar\n                        spiderfyDistanceMultiplier={1}\n                        showCoverageOnHover={false}\n                        maxClusterRadius={35}\n                        iconCreateFunction={markerclusterOptionsAnjos}\n                    >                        \n                        {this.props.dataMapsProp.filter(x => { return x.Coordinates; }).map((dataItem, k) => {\n                            let { City, mapCoords, Roaster, URL, DateISO, Telefone, DiaSemana, Horario, AlimentoEntregue} = dataItem;\n                            \n                            let {googleDirection, dateMarked, Telefone: contato} = this.setupVariables(mapCoords,DateISO,Telefone);\n                            \n                            //filtrar datas antigas\n                            // if(\n                            //     dateMarked.includes(\"semana\") \n                            // //&& Number(dateMarked.replace(/[^0-9]/g,'')) > 7\n                            // ) return (<div></div>);\n                            \n                            let precisandoMsg, CurrentIcon;\n                            switch(Roaster){\n                                case \"Doador\":\n                                    precisandoMsg = \"Recebendo alimento para distribuir\"+URL;\n                                    CurrentIcon = hubIcon;\n                                    break;                               \n                                \n                                default:\n                                    return (<div></div>);\n                                    break;\n                            }\n                            \n                            return (\n                                <Marker\n                                    eventHandlers={{\n                                        click: (e) => { \n                                            // alert(`Precisando de ${Roaster}`); \n                                            console.log(`indo para [${[mapCoords[0]+','+mapCoords[1]]}]`); \n                                            // window.open(`https://www.google.com/maps/search/${[mapCoords[0]+','+mapCoords[1]]}`) \n                                        }\n                                    }}\n                                    icon= {CurrentIcon} \n                                    key={k}\n                                    center={[mapCoords[0], mapCoords[1]]}\n                                    position={[mapCoords[0], mapCoords[1]]}\n                                >\n                                   {this.configPopup(googleDirection,precisandoMsg,dateMarked,contato,AlimentoEntregue,mapCoords,Roaster)}\n                                    \n                                    {/* <Popup>\n                                        <a href={googleDirection} target='_blank' rel=\"noreferrer\">Ir para o destino \n                                        <img className=\"directionIcon\" src=\"https://maps.gstatic.com/tactile/omnibox/directions-2x-20150909.png\"></img></a>\n                                        <br/>\n                                        {precisandoMsg}\n                                        <br/>\n                                        {dateMarked} {contato} \n                                        <br/>{\"(Qtde entregue:\"+AlimentoEntregue+\")\"}\n                                        <br/>\n                                        <button onClick={() => this.props.removerPonto([mapCoords[0], mapCoords[1]], Roaster)}>apagar</button>\n                                        <span>    </span>\n                                        <button className='buttonsSidebySide floatRight' onClick={() => this.props.entregarAlimento([mapCoords[0], mapCoords[1]])}>entreguei</button>\n                                \n                                    </Popup> */}\n                                    {/* <Tooltip\n                                        // direction=\"auto\"\n                                        // offset={[15, 0]}\n                                        // opacity={1}>\n                                        // <span><a href={URL}>Precisando de<br></br>{Roaster}</a></span>\n                                        // <span>{City}, BR</span>\n                                    </Tooltip> */}\n                                </Marker>);\n                        })}\n                    </MarkerClusterGroup>\n    }\n\n    renderDoadoresVerde(){\n        return <MarkerClusterGroup\n                    // grupo de onde pode ajudar\n                        spiderfyDistanceMultiplier={1}\n                        showCoverageOnHover={false}\n                        maxClusterRadius={35}\n                        iconCreateFunction={markerclusterOptionsAnjos}\n                    >                        \n                        {this.props.dataMapsProp.filter(x => { return x.Coordinates; }).map((dataItem, k) => {\n                            let { City, mapCoords, Roaster, URL, DateISO, Telefone, DiaSemana, Horario, AlimentoEntregue} = dataItem;\n                            \n                            let {googleDirection, dateMarked, Telefone: contato} = this.setupVariables(mapCoords,DateISO,Telefone);\n                            \n                            //filtrar datas antigas\n                            // if(\n                            //     dateMarked.includes(\"semana\") \n                            // //&& Number(dateMarked.replace(/[^0-9]/g,'')) > 7\n                            // ) return (<div></div>);\n                            \n                            let precisandoMsg, CurrentIcon;\n                            switch(Roaster){\n                                case \"PrecisandoBuscar\":\n                                    precisandoMsg = `Precisando de pessoas para buscar `+DiaSemana + \" pela \"+Horario;\n                                    CurrentIcon = greenIcon;\n                                    break;                                \n                                \n                                default:\n                                    return (<div></div>);\n                                    break;\n                            }\n                            \n                            return (\n                                <Marker\n                                    eventHandlers={{\n                                        click: (e) => { \n                                            // alert(`Precisando de ${Roaster}`); \n                                            console.log(`indo para [${[mapCoords[0]+','+mapCoords[1]]}]`); \n                                            // window.open(`https://www.google.com/maps/search/${[mapCoords[0]+','+mapCoords[1]]}`) \n                                        }\n                                    }}\n                                    icon= {CurrentIcon} \n                                    key={k}\n                                    center={[mapCoords[0], mapCoords[1]]}\n                                    position={[mapCoords[0], mapCoords[1]]}\n                                >\n                                   {this.configPopup(googleDirection,precisandoMsg,dateMarked,contato,AlimentoEntregue,mapCoords,Roaster)}\n                                    \n                                    {/* <Popup>\n                                        <a href={googleDirection} target='_blank' rel=\"noreferrer\">Ir para o destino \n                                        <img className=\"directionIcon\" src=\"https://maps.gstatic.com/tactile/omnibox/directions-2x-20150909.png\"></img></a>\n                                        <br/>\n                                        {precisandoMsg}\n                                        <br/>\n                                        {dateMarked} {contato} \n                                        <br/>{\"(Qtde entregue:\"+AlimentoEntregue+\")\"}\n                                        <br/>\n                                        <button onClick={() => this.props.removerPonto([mapCoords[0], mapCoords[1]], Roaster)}>apagar</button>\n                                        <span>    </span>\n                                        <button className='buttonsSidebySide floatRight' onClick={() => this.props.entregarAlimento([mapCoords[0], mapCoords[1]])}>entreguei</button>\n                                \n                                    </Popup> */}\n                                    {/* <Tooltip\n                                        // direction=\"auto\"\n                                        // offset={[15, 0]}\n                                        // opacity={1}>\n                                        // <span><a href={URL}>Precisando de<br></br>{Roaster}</a></span>\n                                        // <span>{City}, BR</span>\n                                    </Tooltip> */}\n                                </Marker>);\n                        })}\n                    </MarkerClusterGroup>\n    }\n\n    renderDoadoresVermelho(){\n        return <MarkerClusterGroup\n        // grupo de entrega de alimentos prontos\n            spiderfyDistanceMultiplier={1}\n            showCoverageOnHover={false}\n            maxClusterRadius={35}\n            iconCreateFunction={markerclusterOptionsEntrega}\n        >                        \n            {this.props.dataMapsProp.filter(x => { return x.Coordinates; }).map((dataItem, k) => {\n                let { City, mapCoords, Roaster, URL, DateISO, Telefone, DiaSemana, Horario, AlimentoEntregue } = dataItem;\n                \n                let {googleDirection, dateMarked, Telefone: contato} = this.setupVariables(mapCoords,DateISO,Telefone);\n                //filtrar datas antigas\n                // if(\n                //     dateMarked.includes(\"semana\") \n                // //&& Number(dateMarked.replace(/[^0-9]/g,'')) > 7\n                // ) return (<div></div>);\n                \n                let precisandoMsg, CurrentIcon;\n                switch(Roaster){\n                    case \"EntregaAlimentoPronto\":\n                        precisandoMsg = `Entregando refeições prontas `+DiaSemana+\" pela \"+Horario;\n                        CurrentIcon = redIcon;\n                        break;\n                    \n                    default:\n                        return (<div></div>);\n                        break;\n                }\n                \n                return (\n                    <Marker\n                        eventHandlers={{\n                            click: (e) => { \n                                // alert(`Precisando de ${Roaster}`); \n                                console.log(`indo para [${[mapCoords[0]+','+mapCoords[1]]}]`); \n                                // window.open(`https://www.google.com/maps/search/${[mapCoords[0]+','+mapCoords[1]]}`) \n                            }\n                        }}\n                        icon= {CurrentIcon} \n                        key={k}\n                        center={[mapCoords[0], mapCoords[1]]}\n                        position={[mapCoords[0], mapCoords[1]]}\n                    >\n                        {this.configPopup(googleDirection,precisandoMsg,dateMarked,contato,AlimentoEntregue,mapCoords,Roaster)}\n                                    \n                        {/* <Popup>\n                            <a href={googleDirection} target='_blank' rel=\"noreferrer\">Ir para o destino</a>\n                            <br/>\n                            {precisandoMsg}\n                            <br/>\n                            {dateMarked} {contato} \n                            <br/>{\" (Qtde entregue:\"+AlimentoEntregue+\")\"}\n                            <br/>\n                            <button onClick={() => this.props.removerPonto([mapCoords[0], mapCoords[1]], Roaster)}>apagar</button>\n                            <span>    </span>\n                            <button className='buttonsSidebySide floatRight' onClick={() => this.props.entregarAlimento([mapCoords[0], mapCoords[1]])}>entreguei</button>\n                        </Popup> */}\n                        {/* <Tooltip\n                            // direction=\"auto\"\n                            // offset={[15, 0]}\n                            // opacity={1}>\n                            // <span><a href={URL}>Precisando de<br></br>{Roaster}</a></span>\n                            // <span>{City}, BR</span>\n                        </Tooltip> */}\n                    </Marker>);\n            })}\n        </MarkerClusterGroup>\n    }\n\n    renderNecessitados(){\n        return <MarkerClusterGroup\n        // grupo dos que precisam\n            spiderfyDistanceMultiplier={1}\n            showCoverageOnHover={false}\n            maxClusterRadius={35}\n            iconCreateFunction={markerclusterOptionsPrecisando}\n        >                        \n            {this.props.dataMapsProp.filter(x => { return x.Coordinates; }).map((dataItem, k) => {\n                let { City, mapCoords, Roaster, URL, DateISO, Telefone, DiaSemana, AlimentoEntregue} = dataItem;\n                let {googleDirection, dateMarked, Telefone: contato} = this.setupVariables(mapCoords,DateISO,Telefone);\n        //filtrar datas antigas\n                // if(\n                //     dateMarked.includes(\"semana\") \n                // //&& Number(dateMarked.replace(/[^0-9]/g,'')) > 7\n                // ) return (<div></div>);\n                \n                let precisandoMsg, CurrentIcon;\n                switch(Roaster){                                \n                    case \"Alimento de cesta básica\":\n                    case \"Alimento pronto\":\n                        precisandoMsg = `Precisando de ${Roaster}`+URL;\n                        CurrentIcon = myIcon;\n                        break;\n                    \n                    default:\n                        return (<div></div>);\n                        break;\n                }\n                \n                return (\n                    <Marker\n                        eventHandlers={{\n                            click: (e) => { \n                                // alert(`Precisando de ${Roaster}`); \n                                console.log(`indo para [${[mapCoords[0]+','+mapCoords[1]]}]`); \n                                // window.open(`https://www.google.com/maps/search/${[mapCoords[0]+','+mapCoords[1]]}`) \n                            }\n                        }}\n                        icon= {CurrentIcon} \n                        key={k}\n                        center={[mapCoords[0], mapCoords[1]]}\n                        position={[mapCoords[0], mapCoords[1]]}\n                    >\n                        {this.configPopup(googleDirection,precisandoMsg,dateMarked,contato,AlimentoEntregue,mapCoords,Roaster)}\n                                    \n                        {/* <Popup>\n                            <a href={googleDirection} target='_blank' rel=\"noreferrer\">Ir para o destino</a>\n                            <br/>\n                            {precisandoMsg}\n                            <br/>\n                            {dateMarked} {contato} \n                            <br/>{\" (Qtde entregue:\"+AlimentoEntregue+\")\"}\n                            <br/>\n                            <div className='buttonsSidebySide'>\n                                <button className='buttonsSidebySide' onClick={() => this.props.removerPonto([mapCoords[0], mapCoords[1]], Roaster)}>apagar</button>\n                                <span>    </span>\n                                <button className='buttonsSidebySide floatRight' onClick={() => this.props.entregarAlimento([mapCoords[0], mapCoords[1]])}>entreguei</button>\n                            </div>\n                        </Popup> */}\n                        {/* <Tooltip\n                            // direction=\"auto\"\n                            // offset={[15, 0]}\n                            // opacity={1}>\n                            // <span><a href={URL}>Precisando de<br></br>{Roaster}</a></span>\n                            // <span>{City}, BR</span>\n                        </Tooltip> */}\n                    </Marker>);\n            })}\n        </MarkerClusterGroup>\n    }\n\n    renderSwitch(param){\n        switch(this.state.filtro) {\n            case \"Todos\":\n                return ([\n                    this.renderDoadoresAzul(),\n                    this.renderDoadoresVerde(),\n                    this.renderNecessitados(),\n                    this.renderDoadoresVermelho()]\n                )\n                break;\n            case \"Necessitados\":\n                return ([\n                    this.renderNecessitados()]\n                )\n                break;\n            case \"Doadores\":\n                return ([\n                    this.renderDoadoresAzul(),\n                    this.renderDoadoresVerde(),\n                    this.renderDoadoresVermelho()]\n                )\n                break;\n            case \"Refeição Pronta\":\n                return ([\n                    this.renderDoadoresVerde(),\n                    this.renderDoadoresVermelho()]\n                )\n                break;\n        }\n    }\n\n}\n\nexport default CoffeeMap;","export default __webpack_public_path__ + \"static/media/qr.20154bbf.svg\";","\r\nimport React, { Component } from 'react';\r\n\r\nimport TimeAgo from 'javascript-time-ago';\r\n\r\nimport pt from 'javascript-time-ago/locale/pt.json';\r\nTimeAgo.addDefaultLocale(pt);\r\n\r\nconst timeAgo = new TimeAgo();\r\n\r\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\r\n\r\nconst doc = new GoogleSpreadsheet(process.env.REACT_APP_GOOGLESHEETID);\r\n\r\nclass CleanOld extends Component {\r\n\r\n    componentDidMount() {\r\n        \r\n        (async function main() {\r\n            // Use service account creds\r\n            await doc.useServiceAccountAuth({\r\n            client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\r\n            private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\r\n            });\r\n    \r\n            await doc.loadInfo(); // Loads document properties and worksheets\r\n    \r\n            const sheet = doc.sheetsByIndex[0];\r\n            const rows = await sheet.getRows();\r\n            rows.forEach((x) => { \r\n                let dateMarked;\r\n                if(x.DateISO) dateMarked = timeAgo.format(Date.now() - (Date.now() - new Date(x.DateISO).getTime()) );\r\n                \r\n                //filtrar datas antigas\r\n                if(\r\n                    dateMarked.includes(\"semana\") \r\n                    || dateMarked.includes(\"mes\") \r\n                //&& Number(dateMarked.replace(/[^0-9]/g,'')) > 7\r\n                ) { x.delete(); } });\r\n\r\n        })();\r\n    }\r\n    render(){\r\n        return <div></div>;\r\n    }\r\n}\r\n\r\nexport default CleanOld;","import React, { Component } from 'react';\nimport './App.css';\nimport { OpenStreetMapProvider } from 'leaflet-geosearch';\nimport Header from './components/header';\n\nimport InserirEndereco from './components/googlesheets/endereco';\nimport MyLocationButton from './components/googlesheets/mylocation';\nimport Sugestao from './components/googlesheets/sugestao';\n\nimport CoffeeMap from './components/map.js';\n// import CoffeeTable from './components/table';\nimport ReactGA from 'react-ga';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nimport envVariables from './components/variaveisAmbiente';\n\nimport qr from './images/qr.svg';\n\n// Material-UI\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nimport CleanOld from './components/googlesheets/cleanold';\n\n\nimport coffeeBean from './images/bean.svg';\nimport hub from './images/hub.svg';\nimport green from './images/green.svg';\nimport red from './images/red.svg';\n\nimport AesEncryption from \"aes-encryption\";\n\nconst aes = new AesEncryption();\n\n// Google Analytics\nfunction initializeReactGA() {\n  ReactGA.initialize('UA-172868315-1');\n  ReactGA.pageview(window.location.pathname + window.location.search);\n}\n\ninitializeReactGA();\n\naes.setSecretKey(process.env.REACT_APP_CRYPTSEED+\"F\");\n\nconst { GoogleSpreadsheet } = require('google-spreadsheet');\n\n// Google Sheets Document ID -- PROD\nconst doc = new GoogleSpreadsheet(process.env.REACT_APP_GOOGLESHEETID);\n\n// Google Sheets Document ID -- DEV\n// const doc = new GoogleSpreadsheet('1jQI6PstbEArW_3xDnGgPJR6_37r_KjLoa765bOgMBhk');\n\n// Provider for leaflet-geosearch plugin\nconst provider = new OpenStreetMapProvider();\n//limit osm https://operations.osmfoundation.org/policies/nominatim/\n\nclass App extends Component {\n\n  // Initial state\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: true,\n      dataMaps: [],\n      dataHeader: [{ label: \"Índice\" }, { label: \"Lugar\" }],\n      rowCount: '',\n      center:[-8.0671132,-34.8766719],\n      alimento:'Alimento pronto',\n      telefone:'',\n      telefoneEncryptado:'',\n      diaSemana:'',\n      horario:'',\n      filtro:\"Todos\"\n\n    }\n\n    this.dropDownMenuSemana = React.createRef();\n    this.dropDownMenuHorario = React.createRef();\n    this.dropDownMenuFiltro = React.createRef();\n\n    this.setTipoAlimento = this.setTipoAlimento.bind(this);\n    this.handleChangeTelefone = this.handleChangeTelefone.bind(this);\n    this.setDiaSemana = this.setDiaSemana.bind(this);\n    this.setHorario = this.setHorario.bind(this);\n    this.setFiltro = this.setFiltro.bind(this);\n    this.removerPonto = this.removerPonto.bind(this);\n  }\n\n  removerPonto(coords, categoriaPonto){\n    console.log(\"remover \"+coords);\n    let motivo = prompt(\"por qual motivo (em resumo) gostaria de deletar esse ponto?\");\n    if(motivo !== null){\n      (async function main(self) {\n        try{\n          await doc.useServiceAccountAuth({\n            client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\n            private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\n            });\n\n            await doc.loadInfo(); // Loads document properties and worksheets\n\n            const sheet = doc.sheetsByIndex[4];\n            //row = { Name: \"new name\", Value: \"new value\" };\n            \n            const row = { Motivo: motivo, Ponto: JSON.stringify(coords), DateISO: new Date().toISOString(), CategoriaPonto:categoriaPonto};\n            \n            await sheet.addRow(row);\n          \n            alert(\"pedido de deletar enviado com sucesso\");\n        }catch(e){\n          alert(\"ERRO, tente novamente\");\n          //console.log(e);\n\n        }\n        \n      })(motivo, coords);\n    }\n  }\n\n  entregarAlimento(coords){\n    (async function main(self) {\n      try{\n        await doc.useServiceAccountAuth({\n          client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\n          private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\n          });\n\n          await doc.loadInfo(); // Loads document properties and worksheets\n\n          const sheet = doc.sheetsByIndex[0];\n          //row = { Name: \"new name\", Value: \"new value\" };\n          \n          const rows = await sheet.getRows();\n          let rowEncontrada = rows.filter((x) => { \n            //x.Coordinates\n            //console.log(JSON.parse(x.Dados).Coordinates);\n            return JSON.parse(x.Dados).Coordinates === JSON.stringify(coords); });\n          \n          //console.log(rowEncontrada[0].City);\n          let dadosNovos = JSON.parse(rowEncontrada[0].Dados);\n          dadosNovos.AlimentoEntregue++;\n          rowEncontrada[0].Dados = JSON.stringify(dadosNovos);\n          await rowEncontrada[0].save();\n          \n          window.location.reload();\n      }catch(e){\n        //console.log(e);\n\n      }\n      \n    })(coords);\n  }\n\n  setFiltro(event){\n    this.setState({\n      filtro: event.target.value\n    });\n  }\n  setTipoAlimento(event){\n    this.setState({\n      alimento: event.target.value\n    });\n\n    if(event.target.value === 'PrecisandoBuscar' || event.target.value === 'EntregaAlimentoPronto'){\n      this.setState({\n        diaSemana: this.dropDownMenuSemana.current.value,\n        horario: this.dropDownMenuHorario.current.value\n      });\n\n    }else{\n      this.setState({\n        diaSemana: '',\n        horario: ''\n      });\n\n    }\n\n  }\n\n  setDiaSemana(event){\n    this.setState({\n      diaSemana: event.target.selectedOptions[0].value\n    });\n    // console.log(this.dropDownMenuSemana.current.value);\n    // console.log(event.target.selectedOptions[0].value);\n    // console.log(this.state.diaSemana);\n  }\n\n  \n  setHorario(event){\n    this.setState({\n      horario: event.target.selectedOptions[0].value\n    });\n    // console.log(this.dropDownMenuSemana.current.value);\n    // console.log(event.target.selectedOptions[0].value);\n    // console.log(this.state.diaSemana);\n  }\n\n  handleChangeTelefone(event) {\n    if(event.target.value.length>15) return;\n    let telefoneValue = event.target.value.replace(/[^0-9]/g,'');\n    if(telefoneValue.length >= 8){\n      this.setState({telefoneEncryptado: aes.encrypt(telefoneValue)});\n    }\n    this.setState({telefone: telefoneValue});\n  }\n\n  componentDidMount() {\n\n    // Google Sheets API\n    // Based on https://github.com/theoephraim/node-google-spreadsheet\n\n    var self = this;\n\n    //current location    \n    navigator.geolocation.getCurrentPosition(function(position) {\n      self.setState({center: [position.coords.latitude, position.coords.longitude]}) \n    });\n\n    (async function main(self) {\n      // Use service account creds\n      await doc.useServiceAccountAuth({\n        client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\n        private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\n      });\n\n      await doc.loadInfo(); // Loads document properties and worksheets\n      \n      /*https://www.keene.edu/campus/maps/tool/\n        long, lat\n        x, y\n        -52.2070313, 2.20\n        -52.4267578, -13.9234039\n        -34.3212891, -14.0939572\n        -34.3212891, 1.6696855\n0: -8.0256189\n1: -34.9175702\n        -55.4589844, -32.6578757\n        -55.5468750, -14.1791861\n        -38.1445313, -14.1791861\n        -38.0566406, -32.8426736\n      */\n     //limitar regiao\n      let regiao;\n      if(\n        //cima baixo\n        self.state.center[0]< envVariables.mapArea.teto && self.state.center[0] > envVariables.mapArea.chao\n        &&\n        //esquerda direita\n        self.state.center[1]>envVariables.mapArea.paredeEsquerda && self.state.center[1] < envVariables.mapArea.paredeDireita       \n        ){\n          //nordeste\n          regiao=0;\n        }\n        else\n        if(\n          //cima baixo\n          self.state.center[0]<-14.18 && self.state.center[0] > -32.66\n          &&\n          //esquerda direita\n          self.state.center[1]>-55.55 && self.state.center[1] < -38.06        \n          ){\n            //sudeste\n            regiao=0;\n          }\n          else{\n            alert(\"Região ainda não suportada\");\n            return;\n          }\n      const sheet = doc.sheetsByIndex[regiao];\n      const rows = await sheet.getRows();\n      // Total row count\n      self.setState({ rowCount: rows.length });\n      \n      // rows.filter( (x) => { return !x.Data}).map( (x) => {\n      //   x.Dados = JSON.stringify(\n      //     { \n      //       \"Roaster\": x.Roaster, \n      //       \"URL\": x.URL, \n      //       \"City\": x.City, \n      //       \"Coordinates\": x.Coordinates, \n      //       \"DateISO\": x.DateISO, \n      //       \"Telefone\": x.Telefone, \n      //       \"DiaSemana\": x.DiaSemana,\n      //       \"Horario\": x.Horario,\n      //       \"AlimentoEntregue\": x.AlimentoEntregue\n      //     }\n      //   );\n      //   (async function main(x){\n          \n      //   await x.save();\n      //   })(x);\n\n      // })\n      rows.forEach((x) => {\n        let dados = JSON.parse(x.Dados);\n        x.Roaster = dados.Roaster;\n        x.URL = dados.URL;\n        x.City = dados.City;\n        x.Coordinates = dados.Coordinates;\n        x.DateISO = dados.DateISO;\n        x.Telefone = dados.Telefone;\n        x.DiaSemana = dados.DiaSemana;\n        x.Horario = dados.Horario;\n        x.AlimentoEntregue = dados.AlimentoEntregue;\n        \n        if (dados.Coordinates) { x.mapCoords = JSON.parse(x.Coordinates); \n          if(dados.Telefone) {\n            try{\n              x.Telefone = aes.decrypt(x.Telefone);\n            }catch(e){\n              //problema ao decriptar, string nao esta no formato hex\n            }\n          } \n        }\n       \n      });\n      self.setState({ dataMaps: rows });\n\n      // var needsUpdates = rows.filter((x) => { x = JSON.parse(x); return !x.Coordinates; });\n      // if(needsUpdates.length === 0) console.log(\"nao precisa atualizar\");\n      // if (needsUpdates && needsUpdates.length > 0) {\n      //     for (let index in needsUpdates) {\n      //       // if(needsUpdates[index]._rawData.length===0) needsUpdates[index].delete(); //se deixar rows vazias na planilha\n      //         let city = needsUpdates[index].City;\n      //         setTimeout(() => \n      //             {\n      //                 (async function main() {\n      //                     try{\n      //                         let providerResult = await provider.search({ query: city.replace('-',\",\") + ', Brazil' });\n                      \n      //                         if(providerResult.length !== 0 ){\n      //                             // throw new Error(\"endereco-nao-encontrado\");\n                      \n      //                             console.log(providerResult);\n      //                             let latlon = [providerResult[0].y, providerResult[0].x];\n      //                             needsUpdates[index].Coordinates = JSON.stringify(latlon); // Convert obj to string\n      //                             //needsUpdates[index].mapCoords = latlon;\n      //                             await needsUpdates[index].save(); // Save to remote Google Sheet\n      //                         }\n      //                     }catch(e){\n      //                         console.log(\"ERRO\");\n      //                         console.log(e);\n      //                     }\n      //                 })();\n                  \n      //             },1300                        \n      //         );\n              \n      //     }\n      //   self.setState({ dataMaps: rows });\n      // }\n\n      // Loading message \n      self.setState({ isLoading: false })\n\n    })(self);\n\n    window.fixarPonto = function (endereco, coords){\n      (async function main(endereco, coords) {\n        try{\n          await doc.useServiceAccountAuth({\n            client_email: process.env.REACT_APP_GOOGLE_SERVICE_ACCOUNT_EMAIL,\n            private_key: process.env.REACT_APP_GOOGLE_PRIVATE_KEY,\n          });\n      \n          await doc.loadInfo(); // Loads document properties and worksheets\n      \n          const sheet = doc.sheetsByIndex[0];\n          \n          const rows = await sheet.getRows();\n\n          let rowEncontrada = rows.filter( (x) => \n          {\n            return JSON.parse(x.Dados).City.includes(endereco);\n          }\n          );\n\n          rowEncontrada.forEach( (x) => \n          {\n            let dadosNovos = JSON.parse(x.Dados);\n            dadosNovos.Coordinates = JSON.stringify(coords);\n            x.Dados = JSON.stringify(dadosNovos);\n          });\n\n          for(let x of rowEncontrada) await x.save();\n\n        }catch(e){\n          \n        }\n        \n      })(endereco, coords);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Header rowCountProp={this.state.rowCount} />\n        {/* <InserirEndereco/>\n        <MyLocationButton location={this.state.center}/> */}\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={8}>\n            <Paper id=\"CoffeeMap\" className=\"fadeIn\">\n              {this.state.isLoading\n                ? <div className=\"flexLoading\"><div className=\"loading\">Carregando...</div></div>\n                : <CoffeeMap \n                dataMapsProp={this.state.dataMaps} \n                location={this.state.center} \n                tileMapOption={this.state.tileMapOption} \n                removerPonto={this.removerPonto} \n                entregarAlimento={this.entregarAlimento}\n                filtro={this.state.filtro}\n                />\n              }\n            </Paper>\n          </Grid>\n          <Grid item xs={12} sm={4}>\n            <Paper id=\"CoffeeTable\"  className=\"toolPanel\">\n              {this.state.isLoading\n                ? <div className=\"flexLoading\"><div className=\"loading\"><CircularProgress /></div></div>\n                // : <CoffeeTable dataMapsProp={this.state.dataMaps} dataHeaderProp={this.state.dataHeader} />\n              : \n              \n    <div className='relativePosition'>\n                Mapeados: {this.state.rowCount} filtro: \n                <select ref= {this.dropDownMenuFiltro} id=\"filtro\" onChange={this.setFiltro}>\n                <option value=\"Todos\">Todos</option>\n                <option value=\"Doadores\">Doadores</option>\n                <option value=\"Necessitados\">Necessitados</option>\n                <option value=\"Refeição Pronta\">Refeição Pronta</option>\n              </select>\n              <br></br>No mapa clique na bolinha para saber como ajudar.<br></br> Você pode se incluir ou incluir outra pessoa, <br></br>selecione a situação e confirme o local (mais informações no final da página):\n        {/* RADIO BUTTON */}\n        <div className='relativePosition'>\n          <ul>\n            \n          <li>\n              <label className='uxLi'>\n                <input\n                  type=\"radio\"\n                  value=\"Alimento pronto\"\n                  checked={this.state.alimento === \"Alimento pronto\"}\n                  onChange={this.setTipoAlimento}\n                />\n                <span className='yellowHub'> Pessoa precisando de Alimento pronto <img width=\"30px\" height=\"30px\" src={coffeeBean}></img></span>\n              </label>\n            </li>\n\n            <li>\n              <label className='uxLi'>\n                <input\n                  type=\"radio\"\n                  value=\"Alimento de cesta básica\"\n                  checked={this.state.alimento === \"Alimento de cesta básica\"}\n                  onChange={this.setTipoAlimento}\n                />\n                <span className='yellowHub'> Preciso de Alimento de cesta básica <img width=\"30px\" height=\"30px\" src={coffeeBean}></img></span>\n              </label>\n            </li>\n                        \n            <li>\n              <label className='uxLi'>\n                <input\n                  type=\"radio\"\n                  value=\"Doador\"\n                  checked={this.state.alimento === \"Doador\"}\n                  onChange={this.setTipoAlimento}\n                />\n                <span className='blueHub'> Recebo para doar <img width=\"30px\" height=\"30px\" src={hub}></img></span>\n              </label>\n            </li>\n\n            <li>\n            <label className='uxLi'>\n                <input\n                  type=\"radio\"\n                  value=\"EntregaAlimentoPronto\"\n                  checked={this.state.alimento === \"EntregaAlimentoPronto\"}\n                  onChange={this.setTipoAlimento}\n                />\n                <span className='redHub'> Entrego refeições em ponto fixo <img width=\"30px\" height=\"30px\" src={red}></img></span>\n              \n                <br></br>\n                <select ref= {this.dropDownMenuSemana} id=\"dia\" onChange={this.setDiaSemana}>\n                <option value=\"toda Segunda\">toda Segunda</option>\n                <option value=\"toda Terça\">toda Terça</option>\n                <option value=\"toda Quarta\">toda Quarta</option>\n                <option value=\"toda Quinta\">toda Quinta</option>\n                <option value=\"toda Sexta\">toda Sexta</option>\n                <option value=\"todo Sábado\">todo Sábado</option>\n                <option value=\"todo Domingo\">todo Domingo</option>\n              </select>\n              <select ref= {this.dropDownMenuHorario} id=\"horario\" onChange={this.setHorario}>\n                <option value=\"manhã 05:30\">manhã 05:30</option>\n                <option value=\"manhã 06:30\">manhã 06:30</option>\n                <option value=\"tarde 13:30\">tarde 13:30</option>\n                <option value=\"tarde 16:30\">tarde 16:30</option>\n                <option value=\"noite 18:30\">noite 18:30</option>\n                <option value=\"noite 19:30\">noite 19:30</option>\n              </select>\n              </label>\n            </li>\n\n            <li>\n              <label className='uxLi'>\n                <input\n                  type=\"radio\"\n                  value=\"PrecisandoBuscar\"\n                  checked={this.state.alimento === \"PrecisandoBuscar\"}\n                  onChange={this.setTipoAlimento}\n                />\n                <span className='greenHub'> Tenho alimento perto de se perder  <img width=\"30px\" height=\"30px\" src={green}></img></span>\n              \n              <br></br>\n              <select ref= {this.dropDownMenuSemana} id=\"dia\" onChange={this.setDiaSemana}>\n                <option value=\"Hoje\">Hoje</option>\n                <option value=\"toda Segunda\">toda Segunda</option>\n                <option value=\"toda Terça\">toda Terça</option>\n                <option value=\"toda Quarta\">toda Quarta</option>\n                <option value=\"toda Quinta\">toda Quinta</option>\n                <option value=\"toda Sexta\">toda Sexta</option>\n                <option value=\"todo Sábado\">todo Sábado</option>\n                <option value=\"todo Domingo\">todo Domingo</option>\n              </select>\n              <select ref= {this.dropDownMenuHorario} id=\"horario\" onChange={this.setHorario}>\n                <option value=\"manhã 05:30\">manhã 05:30</option>\n                <option value=\"manhã 06:30\">manhã 06:30</option>\n                <option value=\"tarde 13:30\">tarde 13:30</option>\n                <option value=\"tarde 16:30\">tarde 16:30</option>\n                <option value=\"noite 18:30\">noite 18:30</option>\n                <option value=\"noite 19:30\">noite 19:30</option>\n              </select>\n              </label>\n              \n            </li>\n\n          \n          </ul>\n    </div>\n        {/* FIM RADIO BUTTON */}\n            <div className='relativePosition'>\n                <input className=\"TextField tfMarginUp\" type=\"text\" placeholder='Insira telefone se quiser' value={this.state.telefone} onChange={this.handleChangeTelefone} />\n                <MyLocationButton \n                location={this.state.center} \n                alimento={this.state.alimento} \n                telefone={this.state.telefoneEncryptado}\n                diaSemana={this.state.diaSemana}\n                horario={this.state.horario}\n                /> \n                <InserirEndereco \n                alimento={this.state.alimento} \n                telefone={this.state.telefoneEncryptado}\n                diaSemana={this.state.diaSemana}\n                horario={this.state.horario}\n                /> \n\n                <a className=\"wpbtn\" title=\"share to whatsapp\" href=\"whatsapp://send?text=Para marcar no mapa e alimentar quem tem fome, achei esse site: https://rslgp.github.io/mapafome\"> <img className=\"wp\" src=\"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg\" alt=\"\"/>\n                Compartilhar no Whatsapp</a>\n                <a target='_blank' rel=\"noreferrer\" href=\"https://t.me/share?url=https%3A%2F%2Frslgp.github.io%2Fmapafome&amp;text=Para%20marcar%20no%20mapa%20e%20alimentar%20quem%20tem%20fome%2C%20achei%20esse%20site%3A\" className=\"tgme_widget_share_btn\"><img className=\"telegram\" src=\"https://telegram.org/img/WidgetButton_LogoSmall.png\" alt=\"\"></img></a>\n\n                {/* <img src={qr} alt=\"\"/> */}\n                {/* <CleanOld></CleanOld> */}\n                No Mapa da Fome você pode encontrar a quem ajudar e fazer novas marcações, caso uma opção represente você ou outra pessoa, selecione, coloque número para contato se quiser, e confirme com localização atual ou endereço e número\n                <br></br><span className=\"yellowHub\">  em amarelo são pessoas <img width=\"30px\" height=\"30px\" src={coffeeBean}></img></span>em vulnerabilidade social e insegurança alimentar que estão com fome em casa ou na rua, --precisam de alimento\n                <br></br><span className=\"blueHub\">  em azul são pessoas <img width=\"30px\" height=\"30px\" src={hub}></img></span>que recebem alimentos ou recursos para distribuir alimento ou refeições na comunidade (exemplo: sopão solidário, ongs, voluntários) --precisam de doações\n                <br></br><span className=\"redHub\">  em vermelho são pessoas <img width=\"30px\" height=\"30px\" src={red}></img></span>que entregam refeição em ponto fixo na rua em certo dia na semana. --ponto de entrega de alimento pronto\n                <br></br><span className=\"greenHub\">  em verde são pessoas <img width=\"30px\" height=\"30px\" src={green}></img></span>que trabalham com alimentos e precisam destinar os alimentos não comercializados ou não consumidos e não tem pessoas para buscar esses alimentos --precisam de voluntários para buscar \n              \n                \n                <br></br><br></br>serve para \n\n<br></br>-mapear pessoas que estão com fome na rua ou em casa\n<br></br>-mapear iniciativas que recebem recursos para fazer doação\n<br></br>-mostrar no mapa onde e quando tem alimento sendo distribuído\n<br></br>-mostrar no mapa lugares comerciais ou residenciais que precisam de voluntários ou necessitados para buscar alimentos não consumidos ou não comercializados\n<br></br> é possível traçar uma rota ao destino ao clicar Ir para o destino, e ser redirecionado para o Google Maps\n<br></br>\ncontato: <a target='_blank' rel=\"noreferrer\" href=\"https://mail.google.com/mail/u/0/?fs=1&to=rslgp@cin.ufpe.br&tf=cm\" >rslgp@cin.ufpe.br</a> <a target='_blank' rel=\"noreferrer\"  href='https://wa.me/5583996157234'>(83) 9.9615-7234</a>           \n<Sugestao/>\n              </div>\n          </div>\n               \n              \n              }\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}